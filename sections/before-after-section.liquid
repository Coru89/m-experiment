<script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"> </script>
{{ '//cdnjs.cloudflare.com/ajax/libs/mhayes-twentytwenty/1.0.0/js/jquery.twentytwenty.min.js' | script_tag }}
{{ '//cdnjs.cloudflare.com/ajax/libs/mhayes-twentytwenty/1.0.0/js/jquery.event.move.min.js' | script_tag }}
{{ '//cdnjs.cloudflare.com/ajax/libs/mhayes-twentytwenty/1.0.0/css/twentytwenty.min.css'| stylesheet_tag }}

<script>$(function($){$('.twentytwenty-container').twentytwenty();});</script>

{% style%}
    .before-after-section .h2{
        color: #fff;
        text-align: center;
        padding-top: 40px;
    }
    .twentytwenty-overlay{
        display:none
    }

    .before-after-images-container{
        position: relative;
    }

    .before-after-images-container .twentytwenty-container{
        width: 100%;
    }

    .before-after-images-container .twentytwenty-container img{
        min-width: 100%;
        min-height: 300px;
    }

    .before-after-images-container .overlay-content{
        position: absolute;
        padding: 30px;
        z-index: 39;
        max-width: 60%;
        color: #fff;
        
    {% if section.settings.overlay_content_position == "top-left"%}
        top: 0;
        left: 0;
    {% elsif section.settings.overlay_content_position == "bottom-left"%}
        bottom: 0;
        left: 0;
    {%endif%}
    }

    @media screen and (min-width: 740px) {
       .before-after-images-container .overlay-content{
         max-width: 30%;
         padding: 50px;
       }
    }

    .before-after-images-container .overlay-content *{
        color: #fff;
    }

    .before-after-images-container .overlay-content .heading{
        margin-bottom: 15px;
    }

    .before-after-images-container .overlay-content p{
        font-weight: 400;
        line-height: 20px;
    }
{% endstyle%}


<h3 class="heading h2">{{ section.settings.header}}</h3>
<div class="before-after-images-container">
    
	<div class='twentytwenty-container'>
        <img src='{{ section.settings.imagebefore_desktop | img_url: '1920x' }}' />
    	<img src='{{ section.settings.imageafter_desktop | img_url: '1920x' }}' />

        <div class="overlay-content">
            <h4 class="heading h3">{{section.settings.subheading}}</h4>
            {{section.settings.caption}}
        </div>
	</div>
    
</div>

{% schema %}
  {
    "name": "Before After Image Slider",
    "class": "before-after-section",
    "settings": [
    {
        "type":"text",
        "id":"header",
        "label": "Section Title",
        "default":"Header"
    },
    {
        "type":"header",
        "content": "Content On Image"
    },
    {
        "type": "text",
        "id": "subheading",
        "default": "Subheading",
        "label": "Subheading"
    },
    {
        "type": "richtext",
        "id": "caption",
        "default": "<p>Caption</p>",
        "label": "Caption"
    },
    {
        "type": "select",
        "id": "overlay_content_position",
        "label":"Content Position",
        "options":[
            {
                "value": "top-left",
                "label": "Top Left"
            },
            {
                "value": "bottom-left",
                "label": "Bottom Left"
            }
        ],
        "default":"top-left"
    },
    {
        "type":"header",
        "content":"Desktop Images"
    },
    {
        "type": "image_picker",
        "id": "imagebefore_desktop",
        "label": "Image Before"
    },
    {
        "type": "image_picker",
        "id": "imageafter_desktop",
        "label": "Image After"
    },
    {
        "type":"header",
        "content":"Mobile Images"
    },
    {
        "type": "image_picker",
        "id": "imagebefore_mobile",
        "label": "Image Before"
    },
    {
        "type": "image_picker",
        "id": "imageafter_mobile",
        "label": "Image After"
    }

],

"presets": [
    {
      "name": "Before After Image Slider"
    }
  ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
